{% extends "settings/layout.html" %}

{% block content %}
  {% raw %}
    <script type="text/x-handlebars" id="index">
      <div class="column left">
        <i class="fa fa-arrow-circle-o-right"></i>
        <p class="admin-title">System</p>
        <div class="form-dropdown">
          <span class="arrow-down"></span>
          {{view Ember.Select content=systems
            optionValuePath="content.name"
            optionLabelPath="content.name"
            selection=selectedSystem
          }}
        </div>
      </div>

      {{#if selectedSystem}}
        {{render "issuers" selectedSystem.issuers}}
      {{/if}}
    </script>

    <script type="text/x-handlebars" id="issuers">
      <div class="column left">
        <i class="fa fa-arrow-circle-o-right"></i>
        <p class="admin-title">Issuer</p>
        {{input type="text" value=filterString placeholder="search"}}
        {{#if areAllSelected}}
          <button {{action 'deselectAll'}} class="btn sel-del-btn">Deselect All</button>
        {{else}}
          <button {{action 'selectAll'}} class="btn sel-del-btn">Select All</button>
        {{/if}}

        <ul>
        {{#each}}
          <li>
            <label>
              {{input type="checkbox" checked=isSelected}}
              <span>{{name}}</span>
            </label>
          </li>
        {{/each}}
        </ul>

        {{partial 'pagination-buttons'}}
      </div>
      {{#if selectedPrograms}}
        {{render "programs" selectedPrograms}}
      {{/if}}
    </script>

    <script type="text/x-handlebars" id="programs">
      <div class="column left">
        <i class="fa fa-arrow-circle-o-right"></i>
        <p class="admin-title">Programs</p>
        {{input type="text" value=filterString}}

        <ul>
          {{#each}}
            <li>
            <label>
              {{input type="checkbox" checked=isSelected}}
              <span>{{name}}</span>
            </label>
            </li>
          {{/each}}
        </ul>

        {{partial 'pagination-buttons'}}
      </div>
    </script>

    <script type="text/x-handlebars" id="_pagination-buttons">
      <div class="cb">
        <p class="admin-title">Page {{page}} of {{maxPage}}</p>
        <button {{action 'goToFirstPage'}} class="btn pagination-btn">&laquo;</button>
        <button {{action 'goToPreviousPage'}} class="btn pagination-btn">&lt;</button>
        <button {{action 'goToNextPage'}} class="btn pagination-btn">&gt;</button>
        <button {{action 'goToLastPage'}} class="btn pagination-btn">&raquo;</button>
      </div>
    </script>
  {% endraw %}

  <div class="container clearfix">
  </div>
{% endblock %}

{% block scripts -%}
  {{ super() }}
  <script src="{{ static('/js/handlebars.js') }}"></script>
  <script src="{{ static('/js/ember.js') }}"></script>
  <script src="{{ static('/js/context.js') }}"></script>
{%- endblock %}
